{"version":3,"sources":["file:///Users/chandankrishnani/Downloads/abc%20jump/assets/scripts/gameplay.ts"],"names":["_decorator","Component","Node","Prefab","SpriteFrame","instantiate","UITransform","Size","Vec2","Vec3","Sprite","tween","Intersection2D","director","Label","ccclass","property","Gameplay","setcontentSize","rand","num","hurdle","getComponent","setContentSize","random","Math","floor","spriteFrame","Hurdle_images","setposition","setPosition","assign","hurdle_pre","node","addChild","check","position","x","move","track","i","length","y","onLoad","butt","load","on","EventType","MOUSE_UP","event","by","scale","to","start","schedule","update","deltaTime","getChildByName","string","score","track1","track2","colide1","rectRect","getBoundingBoxToWorld","console","log","op","over","pause"],"mappings":"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","sourcesContent":["\r\nimport { _decorator, Component, Node, Enum, Prefab, SpriteFrame, instantiate, UITransform, Size, Vec2, Vec3, Sprite, tween, Intersection2D, director, Label, Graphics, Color, UI, Scheduler } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n/**\r\n * Predefined variables\r\n * Name = Gameplay\r\n * DateTime = Thu Sep 09 2021 11:19:58 GMT+0530 (India Standard Time)\r\n * Author = chandan_krishnani\r\n * FileBasename = gameplay.ts\r\n * FileBasenameNoExtension = gameplay\r\n * URL = db://assets/scripts/gameplay.ts\r\n * ManualUrl = https://docs.cocos.com/creator/3.3/manual/en/\r\n *\r\n */\r\n\r\n@ccclass('Gameplay')\r\nexport class Gameplay extends Component {\r\n \r\n  \r\n    @property(Prefab)\r\n    hurdle_pre=null;\r\n\r\n    @property(Prefab)\r\n    load=null;\r\n\r\n    @property(Prefab)\r\n    over=null;\r\n\r\n    @property(SpriteFrame)\r\n    Hurdle_images=[];\r\n    public hurdle:any=[];\r\n    public butt:any=null;\r\n    public op:any=null;\r\n\r\n    setcontentSize(rand:number,num:number)\r\n    {\r\n        if(rand==0)\r\n        {\r\n            this.hurdle[num].getComponent(UITransform).setContentSize(new Size(10,18));\r\n\r\n        \r\n        }\r\n        else if(rand ==1)\r\n        {\r\n\r\n       \r\n            this.hurdle[num].getComponent(UITransform).setContentSize(new Size(18,16));\r\n        }\r\n        else\r\n        {\r\n            this.hurdle[num].getComponent(UITransform).setContentSize(new Size(15,15));\r\n        }\r\n    }\r\n    random(num:number)\r\n    {\r\n        var rand=Math.random()*3;\r\n        rand=Math.floor(rand);\r\n        this.hurdle[num].getComponent(Sprite).spriteFrame=this.Hurdle_images[rand];\r\n        this.setcontentSize(rand,num);\r\n    }\r\n    setposition(num:number)\r\n    {\r\n        this.hurdle[num].setPosition(new Vec3(130,-50,0));\r\n        this.random(num);\r\n    }\r\n    assign(num:number)\r\n    {\r\n        this.hurdle[num]=instantiate(this.hurdle_pre);\r\n        this.node.addChild(this.hurdle[num]); \r\n        this.setposition(num);\r\n    }\r\n    check(num:number)\r\n    {\r\n       \r\n        if(this.hurdle[num].position.x< -130)\r\n            {\r\n            \r\n                this.setposition(num);\r\n                return false;\r\n            }\r\n            return true;\r\n    }\r\n    public score:any=0;\r\n\r\n    // move(num:number)\r\n    // {\r\n\r\n    //    let flag=0;\r\n    //    let flag2=0;\r\n    //     this.schedule(()=>{\r\n    //         if(flag===50)\r\n    //         {\r\n    //             flag=0;\r\n    //             this.score++;\r\n    //         }\r\n    //         if(flag2===100)\r\n    //         {\r\n    //             this.assign(1);   \r\n\r\n    //         }\r\n    //             \r\n               \r\n    //             flag2++;\r\n    //          flag++;\r\n    //         },\r\n\r\n    //           0.01);\r\n        \r\n    // }\r\n    public track1:any=0;\r\n    \r\n    public track2:any=0;\r\n\r\n    move()\r\n    {\r\n        this.track++;\r\n        for(let i=0;i<this.hurdle.length;i++)\r\n               {\r\n                     if(this.check(i))\r\n                     {\r\n                       \r\n                         this.hurdle[i].setPosition(new Vec3(this.hurdle[i].position.x-1,this.hurdle[i].position.y,1));\r\n                     }\r\n                 }\r\n\r\n    }\r\n \r\n    public colide1:any=null;\r\n  \r\nonLoad()\r\n{\r\n      this.butt=instantiate(this.load);\r\n        this.node.addChild(this.butt); \r\n        this.butt.getComponent(UITransform).setContentSize(new Size(200,100));\r\n        this.butt.on(Node.EventType.MOUSE_UP,function(event:any)\r\n        {\r\n            tween(this.butt)\r\n            .by(0.2,{scale : new Vec2(0.2,0.2)})\r\n            .to(0.5,{scale : new Vec2(0,0)})\r\n            .start();\r\n            this.schedule(this.move(),0.01);\r\n           \r\n\r\n\r\n\r\n\r\n        },this);\r\n    \r\n\r\n}\r\n// restart()\r\n// {\r\n    \r\n//     for(var i=0;i<this.hurdle.length;i++)\r\n//     {\r\n//         this.setposition(i);\r\n\r\n//     }\r\n//     this.op.on(Node.EventType.MOUSE_UP,function(event:any)\r\n//         {\r\n//             tween(this.op)\r\n//             .by(0.2,{scale : new Vec2(0.2,0.2)})\r\n//             .to(0.5,{scale : new Vec2(0,0)})\r\n//             .start();\r\n//             this.assign(0);\r\n//             this.move(0);\r\n\r\n//         },this);\r\n\r\n\r\n    \r\n\r\n\r\n// }\r\n\r\n    update (deltaTime: number) {\r\n        this.node.getChildByName('score').getComponent(Label).string=`Score : ${this.score}`;\r\n        if(this.track1===50)\r\n        if(this.track2===100)\r\n        {\r\n            this.assign(1);\r\n        }\r\n        \r\n        for(let i=0;i<this.hurdle.length;i++)\r\n        {\r\n        \r\n        this.colide1=Intersection2D.rectRect(\r\n            this.node.getChildByName('cock').getChildByName('cock1').getComponent(UITransform).getBoundingBoxToWorld(),\r\n            this.hurdle[i].getComponent(UITransform).getBoundingBoxToWorld()\r\n            );\r\n            console.log(this.colide1);\r\n            if(this.colide1)\r\n            {\r\n                this.op=instantiate(this.over);\r\n                this.node.addChild(this.op); \r\n                this.op.getComponent(UITransform).setContentSize(new Size(200,100));\r\n                console.log(\"okaay restart calling\");\r\n                director.pause();\r\n             \r\n            }\r\n        }\r\n            \r\n   \r\n    }\r\n}\r\n\r\n/**\r\n * [1] Class member could be defined like this.\r\n * [2] Use `property` decorator if your want the member to be serializable.\r\n * [3] Your initialization goes here.\r\n * [4] Your update function goes here.\r\n *\r\n * Learn more about scripting: https://docs.cocos.com/creator/3.3/manual/en/scripting/\r\n * Learn more about CCClass: https://docs.cocos.com/creator/3.3/manual/en/scripting/ccclass.html\r\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.3/manual/en/scripting/life-cycle-callbacks.html\r\n */\r\n"]}