{"version":3,"sources":["file:///Users/chandankrishnani/Downloads/abc%20jump/assets/scripts/gameplay2.ts"],"names":["_decorator","Component","Node","Prefab","SpriteFrame","instantiate","UITransform","Size","tween","Sprite","Vec3","Label","Intersection2D","ccclass","property","Gameplay2","random","hurdle_assign","rand","Math","floor","hurdle_pre","node","addChild","getComponent","spriteFrame","Hurdle_images","setContentSize","setPosition","hurdle","push","check","num","position","x","childcount","child","children","i","length","console","log","move","track","n","abc","shift","removeChild","hurdle_track","y","colide1","colide2","updateScore","score","getChildByName","string","game_start","schedule","start","jkl","butt","load","start_image","on","EventType","MOUSE_UP","event","by","scale","to","emptyarray","gameover","animmation","stop","over_image","unschedule","call","setpos","delay","update","rectRect","getBoundingBoxToWorld"],"mappings":"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","sourcesContent":["\r\nimport { _decorator, Component, Node, Prefab, SpriteFrame, instantiate, UITransform, Size, tween, Vec2, Sprite, Vec3, Scheduler, random, Label, Intersection2D, director, Script } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n/**\r\n * Predefined variables\r\n * Name = Gameplay2\r\n * DateTime = Sun Sep 12 2021 09:46:48 GMT+0530 (India Standard Time)\r\n * Author = chandan_krishnani\r\n * FileBasename = gameplay2.ts\r\n * FileBasenameNoExtension = gameplay2\r\n * URL = db://assets/scripts/gameplay2.ts\r\n * ManualUrl = https://docs.cocos.com/creator/3.3/manual/en/\r\n *\r\n */\r\n \r\n@ccclass('Gameplay2')\r\nexport class Gameplay2 extends Component {\r\n    // [1]\r\n    // dummy = '';\r\n\r\n    // [2]\r\n    // @property\r\n    // serializableDummy = 0;\r\n    public score:any=0;\r\n\r\n    @property(Prefab)\r\n    hurdle_pre=null;\r\n    @property(Prefab)\r\n    load=null;\r\n    @property(Prefab)\r\n    over=null;\r\n    @property(SpriteFrame)\r\n    Hurdle_images=[];\r\n    @property(SpriteFrame)\r\n    start_image=null;\r\n    @property(SpriteFrame)\r\n    over_image=null;\r\n    public butt:any=null;\r\n    public hurdle:any=[];\r\n    public Hurdle_indi=null;\r\n    public track:number=null;\r\n    public hurdle_track:number=0;\r\n    public beg:number=0;\r\n    public colide1:any=null;\r\n    public colide2:boolean=true;\r\n    public jkl:any=null;\r\n\r\n    random()\r\n    {\r\n        var hurdle_assign:any=null;\r\n        var rand=Math.random()*3;\r\n        rand=Math.floor(rand);\r\n        hurdle_assign=instantiate(this.hurdle_pre);\r\n        this.node.addChild(hurdle_assign); \r\n        hurdle_assign.getComponent(Sprite).spriteFrame=this.Hurdle_images[rand];\r\n        if(rand==0)\r\n        {\r\n           hurdle_assign.getComponent(UITransform).setContentSize(new Size(10,18));\r\n        }\r\n        else if(rand ==1)\r\n        {\r\n            hurdle_assign.getComponent(UITransform).setContentSize(new Size(18,16));\r\n        }\r\n        else\r\n        {\r\n           hurdle_assign.getComponent(UITransform).setContentSize(new Size(15,15));\r\n        }\r\n        hurdle_assign.setPosition(new Vec3(130,-50,0));\r\n        this.hurdle.push(hurdle_assign);\r\n    }\r\n    check(num:number)\r\n    {\r\n        if(this.hurdle[num].position.x< -130)\r\n            {\r\n              return true;\r\n            }\r\n            return false;\r\n    }\r\n    childcount()\r\n    {\r\n        var child= this.node.children;\r\n        for(var i=0;i<child.length;i++)\r\n        {\r\n            console.log(`count of childs : ${i}`);\r\n        }\r\n    }\r\n    move()\r\n    {\r\n        this.track++;\r\n        let n=this.hurdle.length;\r\n        for(var i=0;i<this.hurdle.length;i++)\r\n               {\r\n                   if(this.check(i))\r\n                   {\r\n\r\n                      var abc = this.hurdle.shift();    \r\n                      this.node.removeChild(abc);              \r\n                       this.hurdle_track=this.hurdle_track+1;\r\n                       this.childcount();\r\n                       console.log(this.hurdle[i]);\r\n                       --i;\r\n                   }\r\n                   else\r\n                   { \r\n                        this.hurdle[i].setPosition(this.hurdle[i].position.x-2,this.hurdle[i].position.y,1);\r\n                   }\r\n                   console.log(` colide1: ${this.colide1} : colide2: ${this.colide2}`);\r\n\r\n                 }\r\n\r\n    }\r\n    updateScore()\r\n    {\r\n        this.score++;\r\n        this.node.getChildByName('score').getComponent(Label).string=`Score : ${this.score}`;\r\n    }\r\n\r\n    game_start()\r\n    {\r\n        \r\n        this.colide2=true;\r\n            this.schedule(this.random,2);\r\n            this.schedule(this.move,0.001);\r\n          \r\n       \r\n    }\r\n    start() {\r\n        \r\n        this.jkl=this.node.getChildByName('cock').getComponent('Jump');\r\n        console.log(this.jkl);\r\n        this.butt=instantiate(this.load);\r\n        this.butt.getComponent(Sprite).spriteFrame=this.start_image;\r\n        this.node.addChild(this.butt); \r\n        this.butt.getComponent(UITransform).setContentSize(new Size(200,100));\r\n        this.butt.on(Node.EventType.MOUSE_UP,function(event:any)\r\n        {\r\n            tween(this.butt)\r\n            .by(0.2,{scale : new Vec3(0.2,0.2,1)})\r\n            .to(0.5,{scale : new Vec3(0,0,1)})\r\n            .start();\r\n            this.game_start();\r\n        },this);\r\n    }\r\n    emptyarray()\r\n    {\r\n        for(var i=0;i<this.hurdle.length;i++)\r\n        {\r\n            var abc= this.hurdle.shift();\r\n            this.node.removeChild(abc); \r\n            i--;\r\n\r\n        }\r\n    }\r\n    \r\n    gameover()\r\n    {\r\n        this.jkl.animmation.stop();\r\n        this.emptyarray(); \r\n\r\n        this.butt.getComponent(Sprite).spriteFrame=this.over_image;\r\n        tween(this.butt)\r\n        .to(0.1,{scale : new Vec3(0.02,0.02,1)})\r\n        .to(0.1,{scale : new Vec3(0,0,1)})\r\n        .to(0.2,{scale: new Vec3(0.2,0.2,1)})\r\n        .start();\r\n        this.unschedule(this.move);\r\n        this.unschedule(this.random);\r\n       \r\n        this.butt.setPosition(new Vec3(0,0,1));\r\n        this.hurdle_track=0;\r\n\r\n        this.butt.on(Node.EventType.MOUSE_UP,function(event:any)\r\n        {\r\n            console.log('clicked');\r\n            tween(this.butt)\r\n            .call(()=>{ this.jkl.setpos();})\r\n            .by(0.2,{scale : new Vec3(0.2,0.2,1)})\r\n            .to(0.5,{scale : new Vec3(0,0,1)})\r\n            .delay(1)\r\n            .call(()=>{ this.game_start(); })\r\n            .start();\r\n           \r\n        },this);\r\n    }\r\n  \r\n    update()\r\n    {\r\n        this.node.getChildByName('score').getComponent(Label).string=`Score : ${this.hurdle_track}`;\r\n        for(var i=0;i<this.hurdle.length;i++)\r\n        {\r\n        this.colide1=Intersection2D.rectRect(\r\n        this.node.getChildByName('cock').getChildByName('cock1').getComponent(UITransform).getBoundingBoxToWorld(),\r\n        this.hurdle[0].getComponent(UITransform).getBoundingBoxToWorld()\r\n        );\r\n        if(this.colide1 && this.colide2)\r\n        {\r\n            this.colide2=false;\r\n            this.gameover();\r\n            \r\n            \r\n        }\r\n    }\r\n\r\n    \r\n    }\r\n\r\n    // update (deltaTime: number) {\r\n    //     // [4]\r\n    // }\r\n}\r\n\r\n/**\r\n * [1] Class member could be defined like this.\r\n * [2] Use `property` decorator if your want the member to be serializable.\r\n * [3] Your initialization goes here.\r\n * [4] Your update function goes here.\r\n *\r\n * Learn more about scripting: https://docs.cocos.com/creator/3.3/manual/en/scripting/\r\n * Learn more about CCClass: https://docs.cocos.com/creator/3.3/manual/en/scripting/ccclass.html\r\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.3/manual/en/scripting/life-cycle-callbacks.html\r\n */\r\n"]}