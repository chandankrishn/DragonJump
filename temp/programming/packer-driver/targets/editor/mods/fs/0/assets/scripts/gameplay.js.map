{"version":3,"sources":["file:///Users/chandankrishnani/CocosPractice/Dragon/assets/scripts/gameplay.ts"],"names":["_decorator","Component","Enum","Prefab","SpriteFrame","instantiate","UITransform","Size","Vec3","Sprite","Intersection2D","director","ccclass","property","HURDLE","Gameplay","type","setcontentSize","rand","num","hurdle","setContentSize","random","Math","floor","getComponent","spriteFrame","Hurdle_images","setposition","setPosition","assign","hurdle_pre","node","addChild","check","position","x","move","schedule","y","start","console","log","qwe","getChildByName","getBoundingBox","update","deltaTime","colide1","rectRect","pause"],"mappings":"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","sourcesContent":["\r\nimport { _decorator, Component, Node, Enum, Prefab, SpriteFrame, instantiate, UITransform, Size, Vec2, Vec3, Sprite, tween, Intersection2D, director } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n/**\r\n * Predefined variables\r\n * Name = Gameplay\r\n * DateTime = Thu Sep 09 2021 11:19:58 GMT+0530 (India Standard Time)\r\n * Author = chandan_krishnani\r\n * FileBasename = gameplay.ts\r\n * FileBasenameNoExtension = gameplay\r\n * URL = db://assets/scripts/gameplay.ts\r\n * ManualUrl = https://docs.cocos.com/creator/3.3/manual/en/\r\n *\r\n */\r\n enum HURDLE\r\n {\r\n     SMALL_CACTUS=0,\r\n     MID_CACTUS=1,\r\n     LARGE_CACTUS=2\r\n };\r\n@ccclass('Gameplay')\r\nexport class Gameplay extends Component {\r\n    // [1]\r\n    // dummy = '';\r\n\r\n    // [2]\r\n    // @property\r\n    // serializableDummy = 0;\r\n    @property({type:Enum (HURDLE)})\r\n    hurdleType=[];\r\n\r\n    @property(Prefab)\r\n    hurdle_pre=null;\r\n\r\n    @property(SpriteFrame)\r\n    Hurdle_images=[];\r\n    public hurdle:any=[];\r\n\r\n    setcontentSize(rand:number,num:number)\r\n    {\r\n        if(rand==0)\r\n        {\r\n            this.hurdle[num].setContentSize(new Size(10,18));\r\n\r\n        }\r\n        else{\r\n            this.hurdle[num].setContentSize(new Size(20,18));\r\n\r\n        }\r\n        \r\n        \r\n    }\r\n    random(num:number)\r\n    {\r\n        var rand=Math.random()*3;\r\n        rand=Math.floor(rand);\r\n        this.hurdle[num].getComponent(Sprite).spriteFrame=this.Hurdle_images[rand];\r\n        this.setcontentSize(rand,num);\r\n\r\n    }\r\n    \r\n    setposition(num:number)\r\n    {\r\n        this.hurdle[num].setPosition(new Vec3(130,-50,0));\r\n        this.random(num);\r\n    }\r\n\r\n\r\n    \r\n    assign(num:number)\r\n    {\r\n        this.hurdle[num]=instantiate(this.hurdle_pre);\r\n        this.node.addChild(this.hurdle[num]); \r\n        this.setposition(num);\r\n    }\r\n    check(num:number)\r\n    {\r\n        if(this.hurdle[num].position.x< -130)\r\n            {\r\n            \r\n                this.setposition(num);\r\n                return false;\r\n            }\r\n            return true;\r\n\r\n        \r\n\r\n    }\r\n    move(num:number)\r\n    {\r\n\r\n\r\n        this.schedule(()=>{\r\n            \r\n            if(this.check(num))\r\n            {\r\n                \r\n\r\n                        this.hurdle[num].setPosition(new Vec3(this.hurdle[num].position.x-1,this.hurdle[num].position.y,1));\r\n                     \r\n\r\n\r\n\r\n            }\r\n             },\r\n              0.1);\r\n        \r\n    }\r\n    public colide1:any=null;\r\n    public colide2:any=null;\r\n\r\n\r\n\r\n    start () {\r\n\r\n\r\n       \r\n      this.assign(5);\r\n      this.move(5);\r\n      \r\n\r\n        console.log(\"cocks points\");\r\n\r\nvar qwe:any=this.node.getChildByName('cock').getComponent(UITransform).getBoundingBox();\r\nconsole.log(qwe);\r\n \r\n\r\n      \r\n     \r\n     \r\n\r\n\r\n\r\n        \r\n\r\n        //[3]\r\n    \r\n    \r\n}\r\n\r\n    update (deltaTime: number) {\r\n        this.colide1=Intersection2D.rectRect(\r\n            this.node.getChildByName('cock').getComponent(UITransform).getBoundingBox(),\r\n            this.hurdle[0].getComponent(UITransform).getBoundingBox()\r\n            );\r\n           \r\n            if(this.colide1)\r\n            {\r\n                director.pause();\r\n             console.log(this.node.getChildByName('cock').getComponent(UITransform).getBoundingBox());\r\n           \r\n             \r\n\r\n            }\r\n            \r\n   \r\n    }\r\n}\r\n\r\n/**\r\n * [1] Class member could be defined like this.\r\n * [2] Use `property` decorator if your want the member to be serializable.\r\n * [3] Your initialization goes here.\r\n * [4] Your update function goes here.\r\n *\r\n * Learn more about scripting: https://docs.cocos.com/creator/3.3/manual/en/scripting/\r\n * Learn more about CCClass: https://docs.cocos.com/creator/3.3/manual/en/scripting/ccclass.html\r\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.3/manual/en/scripting/life-cycle-callbacks.html\r\n */\r\n"]}